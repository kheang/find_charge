
<style type="text/css">
  html, body, #map-canvas { height: 100%; margin: 0; padding: 0;}
</style>
<script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GOOGLE_MAP_API_KEY'] %>">
</script>

<%= javascript_tag do %>

    function initialize() {

        var currentLat = <%= @current_coordinates[0] %>
        var currentLng = <%= @current_coordinates[1] %>

        var currentLatLng = new google.maps.LatLng(currentLat,currentLng);

        var mapOptions = {
            center: { lat: currentLat, lng: currentLng},
            zoom: 12
        };
        var map = new google.maps.Map(document.getElementById('map-canvas'),
                mapOptions);

        new google.maps.LatLng(currentLat,currentLng);
            new google.maps.Marker({
                position: currentLatLng,
                map: map,
        });
    }
    google.maps.event.addDomListener(window, 'load', initialize);

<% end %>

<div id="map-canvas" style='height: 50%'></div>

<div id="locations">
    <%= @coordinates %>
</div>

